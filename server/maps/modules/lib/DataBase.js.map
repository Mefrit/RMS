{"version":3,"sources":["../../source/nodeserver/modules/lib/DataBase.ts"],"names":[],"mappings":";;;AACA,mCAAmC;AACnC,MAAa,QAAQ;IAEjB;QACI,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC;IACxB,CAAC;IACD,MAAM,CAAC,OAAO;QACV,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACnC,IAAI,CAAC,EAAE,GAAG,IAAI,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;gBAC5C,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,wCAAwC,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;iBAC/F;gBACD,OAAO,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IACD,OAAO;QACH,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;YAClB,IAAI,GAAG,EAAE;gBACL,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,mCAAmC,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC;aACxF;YACD,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC;IACxB,CAAC;IACD,KAAK;QACD,OAAO,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;CACJ;AA3BD,4BA2BC","file":"../../../modules/lib/DataBase.js","sourcesContent":["// const sqlite3 = require(\"sqlite3\").verbose();\r\nimport * as sqlite3 from \"sqlite3\";\r\nexport class DataBase {\r\n    db: any;\r\n    constructor() {\r\n        this.db = undefined;\r\n    }\r\n    initDB(path2db) {\r\n        return new Promise((resolve, reject) => {\r\n            this.db = new sqlite3.Database(path2db, (err) => {\r\n                if (err) {\r\n                    resolve({ result: false, message: \"Ошибка при подключении к базе данных. \" + err.message });\r\n                }\r\n                resolve({ result: true });\r\n            });\r\n        });\r\n    }\r\n    closeDB() {\r\n        this.db.close((err) => {\r\n            if (err) {\r\n                return { result: false, message: \"Ошибка при закрытии базы данных. \" + err.message };\r\n            }\r\n            return { result: true };\r\n        });\r\n        this.db = undefined;\r\n    }\r\n    getDB() {\r\n        return this.db;\r\n    }\r\n}\r\n"]}