{"version":3,"sources":["../../source/nodeserver/modules/ModuleComments.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,uDAAqD;AAIrD,MAAa,eAAgB,SAAQ,8BAAc;IACzC,iBAAiB,CAAC,SAAc;;YAClC,OAAO,IAAI,OAAO,CAAC,CAAO,OAAO,EAAE,MAAM,EAAE,EAAE;gBACzC,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;gBACrC,OAAO,CAAC,GAAG,CACP,oBAAoB,EACpB,SAAS,EACT,+DAA+D,GAAG,SAAS,CAAC,WAAW,CAC1F,CAAC;gBACF,MAAM,QAAQ,GAAQ,MAAM,IAAI,CAAC,eAAe,CAC5C,QAAQ,EACR,6DAA6D,GAAG,SAAS,CAAC,WAAW,CACxF,CAAC;gBACF,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,MAAM,QAAQ,GAAG,EAAE,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;gBACxC,IAAI,QAAQ,CAAC,MAAM,EAAE;oBACjB,OAAO,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,QAAQ,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;iBACtF;gBACD,OAAO,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,6CAA6C,EAAE,CAAC,CAAC;YACvF,CAAC,CAAA,CAAC,CAAC;QACP,CAAC;KAAA;CACJ;AAtBD,0CAsBC","file":"../../modules/ModuleComments.js","sourcesContent":["import { Module_Default } from \"./lib/ModuleDefault\";\r\n// первый пункт просто отправить все комментарии к вопросу,\r\n// второй сгенерировать комментарии + вручную добавить продключение в cis\r\n// реализовать возможность с помощью ссылки ,содержащую айдишник пользователя cis добавлять комментарии\r\nexport class Module_Comments extends Module_Default {\r\n    async actionGetComments(post_data: any) {\r\n        return new Promise(async (resolve, reject) => {\r\n            const database = this.db_obj.getDB();\r\n            console.log(\r\n                \"post_data comments\",\r\n                post_data,\r\n                \"SELECT question,time_receipt FROM Comments WHERE id_question=\" + post_data.id_question\r\n            );\r\n            const comments: any = await this.makeRequestToDb(\r\n                database,\r\n                \"SELECT comment, id_comment FROM Comments WHERE id_question=\" + post_data.id_question\r\n            );\r\n            this.getCisBd();\r\n            const question = \"\";\r\n            console.log(\"comments ===> \", comments);\r\n            if (comments.result) {\r\n                resolve({ result: true, answer: { comments: comments.rows, question: question } });\r\n            }\r\n            resolve({ result: false, message: \"Не удалось загрузить комментарии к вопросу.\" });\r\n        });\r\n    }\r\n}\r\n"]}